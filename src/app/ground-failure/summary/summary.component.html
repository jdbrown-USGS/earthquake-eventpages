<ng-container *ngIf="eventService.product$ | async; let product">
  <section class="summary row">

    <section class="landslides one-of-two column">
      <h3>Landslides</h3>

      <ng-container *ngIf="product?.properties; else noLandslideProps">
        <ng-container *ngIf="(product | sharedProductProperty: 'landslide-alert' | lowercase)
          !== 'pending'; else statusPending">
          <ground-failure-hazard-alert [alert]="product| sharedProductProperty:'landslide-hazard-alert-color'"
            [type]="'landslide'"
            [value]="product| sharedProductProperty:'landslide-hazard-alert-value'">
          </ground-failure-hazard-alert>

          <ground-failure-population-alert [alert]="product |
            sharedProductProperty:'landslide-population-alert-color'"
            [type]="'landslide'"
            [value]="product | sharedProductProperty:'landslide-population-alert-value'">
          </ground-failure-population-alert>
        </ng-container>
      </ng-container>


      <button mat-raised-button
        [routerLink]="'../../map'"
        [queryParams]="{ 'ground-failure-landslide': true,
              'shakemap-intensity': false, 'bounds': product | sharedGetMapBounds }">
        View Landslide Map
      </button>
    </section>

    <section class="liquefaction one-of-two column">
      <h3>Liquefaction</h3>

      <ng-container *ngIf="product?.properties; else noLiquefactionProps">
        <ng-container *ngIf="(product | sharedProductProperty:'liquefaction-alert' | lowercase)
          !== 'pending'; else statusPending">
          <ground-failure-hazard-alert [alert]="product |
            sharedProductProperty:'liquefaction-hazard-alert-color'"
            [type]="'liquefaction'"
            [value]="product | sharedProductProperty:'liquefaction-hazard-alert-value'">
          </ground-failure-hazard-alert>

          <ground-failure-population-alert [alert]="product | sharedProductProperty:'liquefaction-population-alert-color'"
            [type]="'liquefaction'"
            [value]="product | sharedProductProperty:'liquefaction-population-alert-value'">
          </ground-failure-population-alert>
        </ng-container>
      </ng-container>

      <button mat-raised-button
        [routerLink]="'../../map'"
        [queryParams]="{ 'ground-failure-liquefaction': true,
              'shakemap-intensity': false, 'bounds': product | sharedGetMapBounds }">
        View Liquefaction Map
      </button>
    </section>

  </section>
  <ng-template #statusPending>
    <p class="alert info">Alert Pending</p>
  </ng-template>
  <ng-template #noLandslideProps>
    <p class="alert warning">Landslides data unavailable</p>
  </ng-template>
  <ng-template #noLiquefactionProps>
    <p class="alert warning">Liquefaction data unavailable</p>
  </ng-template>
</ng-container>